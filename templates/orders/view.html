{% extends 'base/base.html' %}
{% block title %}Order View{% endblock %}

{% block content %}
<div class="container mt-3 mb-3">
    <div class="row">
        <div class="col-md-12">
            <div class="card shadow ">
            <div class="card-header">
                <h3 class="mb-0">Order View
                    <a href="{% url 'orders:myorders' %}" class="btn btn-warning float-right text-white"><i class="fa fa-reply"></i> Back</a>
            </h3></div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-6">
                            <h4>Shopping Details</h4>
                            <hr>
                            <label class="mt-2" >First Name</label>
                            <div class="border p-1">{{ request.user.first_name }}</div>
                            <label class="mt-2" >Last Name</label>
                            <div class="border p-1">{{ request.user.last_name }}</div>
                            <label class="mt-2" >Email</label>
                            <div class="border p-1">{{ request.user.email }}</div>
                            <label class="mt-2" >Phone</label>
                            <div class="border p-1">{{ request.user.phone }}</div>
                            <label class="mt-2" >Province</label>
                            <div class="border p-1">{{ order.address.province }}</div>
                            <label class="mt-2" >City</label>
                            <div class="border p-1">{{ order.address.city }}</div>
                            <label class="mt-2">Address</label>
                            <div class="border p-1">{{ order.address.description }}</div>
                             <label class="mt-2">Home Plate</label>
                            <div class="border p-1">{{ order.address.home_plate }}</div>
                            <label class="mt-2">Postal Code</label>
                            <div class="border p-1">{{ order.address.postal_code }}</div>
                        </div>
                        <div class="col-md-6">
                            <h4>Order Details</h4>
                            <hr>
                            <table class="table table-bordered">
                                <thead>
                                    <tr>
                                        <th> Name</th>
                                        <th> Quantity</th>
                                        <th> Price</th>
                                        <th> Image</th>
                                    </tr>
                        </thead>
                       <tbody>
                       {% for item in orderitems %}
                            <tr>
                                <td> {{ item.product.name }}</td>
                                <td> {{ item.quantity }}</td>
                                <td>{{ item.product.price }}</td>
                                <td><img src="{{ item.product.image.url }}" height="70px" width="70px" alt="{{ item.product.name }}"></td>
                            </tr>
                       {% endfor %}
                        </tbody>
                    </table>
                        <h4 class="border p-2">Total Price :<span class="float-right"> ${{ order.total_price }}</span> </h4>
                        </div>
                    </div>


            </div>
        </div>
</div>
    </div>
</div>
{% endblock %}